resources:
  - allow-argocd-to-manage.yaml
  - https://github.com/dwalluck/jvm-build-service/deploy/crds/base?ref=672c1a4cc90f80da97fc6bddef6cae7806a97d3e
  - https://github.com/dwalluck/jvm-build-service/deploy/operator/base?ref=672c1a4cc90f80da97fc6bddef6cae7806a97d3e
  - .tekton/
  - namespace.yaml
  - localstack.yaml
  - local-cache-pvc.yaml
  - system-config.yaml
namespace: jvm-build-service
images:
  - name: hacbs-jvm-operator
    newName: registry.build01.ci.openshift.org/ci-op-0qsi8ci2/pipeline
    newTag: redhat-appstudio-jvm-build-service-image
  - name: run-maven-component-build
    newName: registry.build01.ci.openshift.org/ci-op-0qsi8ci2/pipeline
    newTag: redhat-appstudio-jvm-build-service-sidecar-image
  - name: lookup-artifact-location
    newName: quay.io/redhat-appstudio/hacbs-jvm-build-request-processor
    newTag: 5b03255832dbb8d0f9669007d85cd9261f8a60b1
patches:
  - target:
      kind: Deployment
      name: hacbs-jvm-operator
    patch: |-
      # reduce CPU request to be able to run on testing instance
      - op: replace
        path: /spec/template/spec/containers/0/resources/requests/cpu
        value: 10m
patchesStrategicMerge:
  - operator-images.yaml
apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization
