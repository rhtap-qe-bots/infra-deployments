resources:
- allow-argocd-to-manage.yaml
- tekton-pipelines-namespace.yaml
- db-execution-configmap.yaml
- https://github.com/openshift-pipelines/tektoncd-results.git/config?ref=downstream
- route.yaml
- ingress-annotation-role.yaml
- ingress-annotation-sa.yaml
- ingress-annotation-rb.yaml
- ingress-annotation-job.yaml

images:
- name: ko://github.com/tektoncd/results/cmd/api
  newName: quay.io/redhat-appstudio/tekton-results-api
  newTag: 6a7e1b0407a137dcd54cbc7b4fba1e5b90dd97f6
- name: ko://github.com/tektoncd/results/cmd/watcher
  newName: quay.io/redhat-appstudio/tekton-results-watcher
  newTag: 6a7e1b0407a137dcd54cbc7b4fba1e5b90dd97f6

patchesStrategicMerge:
- patch-postgres-redhat-statefulset.yaml

patches:
- path: patch-tekton-results-api-no-auth.yaml
  target:
    group: apps
    version: v1
    kind: Deployment
    name: tekton-results-api

namespace: tekton-pipelines

apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization
