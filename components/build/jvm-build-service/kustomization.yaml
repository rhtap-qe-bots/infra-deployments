resources:
  - allow-argocd-to-manage.yaml
  - https://github.com/gabemontero/jvm-build-service/deploy/crds/base?ref=81bda2af91222aa24d8b5d10b86eb92b77ed9731
  - https://github.com/gabemontero/jvm-build-service/deploy/operator/base?ref=81bda2af91222aa24d8b5d10b86eb92b77ed9731
  - .tekton/
  - namespace.yaml
  - localstack.yaml
  - local-cache-pvc.yaml
  - system-config.yaml
namespace: jvm-build-service
images:
  - name: hacbs-jvm-operator
    newName: registry.build01.ci.openshift.org/ci-op-1mx38sdl/pipeline
    newTag: redhat-appstudio-jvm-build-service-image
  - name: run-maven-component-build
    newName: registry.build01.ci.openshift.org/ci-op-1mx38sdl/pipeline
    newTag: redhat-appstudio-jvm-build-service-sidecar-image
  - name: lookup-artifact-location
    newName: quay.io/redhat-appstudio/hacbs-jvm-build-request-processor
    newTag: a4787c4c72c7f606515e19dc3057e79779b4f5a1
patches:
  - target:
      kind: Deployment
      name: hacbs-jvm-operator
    patch: |-
      # reduce CPU request to be able to run on testing instance
      - op: replace
        path: /spec/template/spec/containers/0/resources/requests/cpu
        value: 10m
patchesStrategicMerge:
  - operator-images.yaml
apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization
